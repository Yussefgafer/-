<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>قصص و عِبر</title>
  <link rel="icon" href="../icon.jpg" type="image/jpg">
  <link rel="stylesheet" href="../style/dark-mode-ios-style.css">
  <link rel="stylesheet" href="../style/story.css">
</head>

<body id="mainBody">
  <nav id="nav">
    <button class="back" id="back" onclick="back()">رجوع</button>
    قصص و عِبر
  </nav>
  <div class="body" id="body"></div>
  <footer>
    تم اخذ محتوي هذه الصفحه من تطبيق
    <a href="https://play.google.com/store/apps/details?id=com.atlasdata.atfale.stories">قصص بدون نت</a>
  </footer>
  
  <script src="main.js"></script>
  <script src="ebr.js"></script>
  <script>
    const backBTN = document.getElementById('back');
    const bodyDiv = document.getElementById('body');

    function createStoryCard(story, index) {
      const card = document.createElement('div');
      card.className = 'card';
      card.onclick = () => stage2(index);
      card.innerHTML = `
        <p class="name">
          قصه
          <br>
          <span>${story.name}</span>
        </p>
      `;
      return card;
    }

    function stage2(index) {
      const card = document.getElementById('body');
      card.style.display = 'none';
      document.getElementById('back').style.display = 'block';

      const storyDiv = document.createElement('div');
      storyDiv.className = 'body';
      storyDiv.id = 'storyy';
      storyDiv.innerHTML = `
        <p class="story">
          ${ebr[index].content}
        </p>
      `;
      document.getElementById('mainBody').appendChild(storyDiv);
    }

    function back() {
      const storyDiv = document.getElementById('storyy');
      if (storyDiv) {
        storyDiv.remove();
      }
      document.getElementById('body').style.display = 'block';
      document.getElementById('back').style.display = 'none';
    }

    ebr.forEach((story, index) => {
      bodyDiv.appendChild(createStoryCard(story, index));
    });

  </script>

</body>

</html>